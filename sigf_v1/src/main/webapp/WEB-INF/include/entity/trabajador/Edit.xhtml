<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>
        <p:dialog id="TrabajadorEditDlg" widgetVar="TrabajadorEditDialog" modal="true" resizable="false"  appendTo="@(body)" header="#{bundle.EditTrabajadorTitle}" closeOnEscape="true">

            <h:form id="TrabajadorEditForm">

                <h:panelGroup id="display">
                    <p:tabView id="TrabajadorTabView">

                        <p:tab id="TrabajadorTab1" title="#{bundle.TabHeaderPrefix} 1">
                            <p:panelGrid  columns="2" columnClasses="column" rendered="#{trabajadorController.selected != null}">

                                <h:outputLabel value="#{bundle.EditTrabajadorLabel_idTrabajador}" for="idTrabajador" />
                                <h:outputText id="idTrabajador" value="#{trabajadorController.selected.idTrabajador}" />

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_codigoTrabajador}" for="codigoTrabajador" />
                                <p:inputText id="codigoTrabajador" value="#{trabajadorController.selected.codigoTrabajador}" title="#{bundle.EditTrabajadorTitle_codigoTrabajador}" required="true" requiredMessage="#{bundle.EditTrabajadorRequiredMessage_codigoTrabajador}"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_rutTrabajador}" for="rutTrabajador" />
                                <p:inputText id="rutTrabajador" value="#{trabajadorController.selected.rutTrabajador}" title="#{bundle.EditTrabajadorTitle_rutTrabajador}" required="true" requiredMessage="#{bundle.EditTrabajadorRequiredMessage_rutTrabajador}" size="9" maxlength="9"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_nombreTrabajador}" for="nombreTrabajador" />
                                <p:inputText id="nombreTrabajador" value="#{trabajadorController.selected.nombreTrabajador}" title="#{bundle.EditTrabajadorTitle_nombreTrabajador}" required="true" requiredMessage="#{bundle.EditTrabajadorRequiredMessage_nombreTrabajador}" size="255" maxlength="255"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_apellidoPaternoTrabajador}" for="apellidoPaternoTrabajador" />
                                <p:inputText id="apellidoPaternoTrabajador" value="#{trabajadorController.selected.apellidoPaternoTrabajador}" title="#{bundle.EditTrabajadorTitle_apellidoPaternoTrabajador}" required="true" requiredMessage="#{bundle.EditTrabajadorRequiredMessage_apellidoPaternoTrabajador}" size="255" maxlength="255"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_apellidoMaternoTrabajador}" for="apellidoMaternoTrabajador" />
                                <p:inputText id="apellidoMaternoTrabajador" value="#{trabajadorController.selected.apellidoMaternoTrabajador}" title="#{bundle.EditTrabajadorTitle_apellidoMaternoTrabajador}" required="true" requiredMessage="#{bundle.EditTrabajadorRequiredMessage_apellidoMaternoTrabajador}" size="255" maxlength="255"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_fechaNacimientoTrabajador}" for="fechaNacimientoTrabajador" />
                                <p:calendar id="fechaNacimientoTrabajador" pattern="MM/dd/yyyy" value="#{trabajadorController.selected.fechaNacimientoTrabajador}" title="#{bundle.EditTrabajadorTitle_fechaNacimientoTrabajador}"  showOn="button"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_nacionalidad}" for="nacionalidad" />
                                <p:selectBooleanCheckbox id="nacionalidad" value="#{trabajadorController.selected.nacionalidad}" />

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_sexo}" for="sexo" />
                                <p:selectBooleanCheckbox id="sexo" value="#{trabajadorController.selected.sexo}" />

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_estadoCivil}" for="estadoCivil" />
                                <p:inputText id="estadoCivil" value="#{trabajadorController.selected.estadoCivil}" title="#{bundle.EditTrabajadorTitle_estadoCivil}"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_calleTrabajador}" for="calleTrabajador" />
                                <p:inputText id="calleTrabajador" value="#{trabajadorController.selected.calleTrabajador}" title="#{bundle.EditTrabajadorTitle_calleTrabajador}" size="255" maxlength="255"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_numeroDireccionTrabajador}" for="numeroDireccionTrabajador" />
                                <p:inputText id="numeroDireccionTrabajador" value="#{trabajadorController.selected.numeroDireccionTrabajador}" title="#{bundle.EditTrabajadorTitle_numeroDireccionTrabajador}" size="45" maxlength="45"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_telefonoFijoTrabajador}" for="telefonoFijoTrabajador" />
                                <p:inputText id="telefonoFijoTrabajador" value="#{trabajadorController.selected.telefonoFijoTrabajador}" title="#{bundle.EditTrabajadorTitle_telefonoFijoTrabajador}" size="255" maxlength="255"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_celularTrabajador}" for="celularTrabajador" />
                                <p:inputText id="celularTrabajador" value="#{trabajadorController.selected.celularTrabajador}" title="#{bundle.EditTrabajadorTitle_celularTrabajador}" size="255" maxlength="255"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_emailTrabajador}" for="emailTrabajador" />
                                <p:inputText id="emailTrabajador" value="#{trabajadorController.selected.emailTrabajador}" title="#{bundle.EditTrabajadorTitle_emailTrabajador}" size="255" maxlength="255"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_numeroCargas}" for="numeroCargas" />
                                <p:inputText id="numeroCargas" value="#{trabajadorController.selected.numeroCargas}" title="#{bundle.EditTrabajadorTitle_numeroCargas}"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_montoSalud}" for="montoSalud" />
                                <p:inputText id="montoSalud" value="#{trabajadorController.selected.montoSalud}" title="#{bundle.EditTrabajadorTitle_montoSalud}"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_formaPagoApv}" for="formaPagoApv" />
                                <p:selectBooleanCheckbox id="formaPagoApv" value="#{trabajadorController.selected.formaPagoApv}" />

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_montoApv}" for="montoApv" />
                                <p:inputText id="montoApv" value="#{trabajadorController.selected.montoApv}" title="#{bundle.EditTrabajadorTitle_montoApv}"/>

                                <p:outputLabel value="#{bundle.EditTrabajadorLabel_subsidioJoven}" for="subsidioJoven" />
                                <p:selectBooleanCheckbox id="subsidioJoven" value="#{trabajadorController.selected.subsidioJoven}" />

                            </p:panelGrid>
                        </p:tab>
                        <p:tab id="TrabajadorTab2" title="#{bundle.TabHeaderPrefix} 2">
                            <p:panelGrid columns="2" columnClasses="column">
                                <p:outputLabel value="#{bundle.CreateTrabajadorLabel_contratado}" for="contratado" />
                                <p:selectBooleanCheckbox id="contratado" value="#{trabajadorController.selected.contratado}" />

                                <p:outputLabel value="#{bundle.CreateTrabajadorLabel_idInstitucionApv}" for="idInstitucionApv" />
                                <p:selectOneMenu id="idInstitucionApv" value="#{trabajadorController.selected.institucionApv}" required="true" requiredMessage="#{bundle.CreateTrabajadorRequiredMessage_idInstitucionApv}" converter="institucionApvConverter">
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{institucionApvController.items}"
                                                   var="idInstitucionApvItem"
                                                   itemValue="#{idInstitucionApvItem}"
                                                   itemLabel="#{idInstitucionApvItem.nombreInstitucionApv}"
                                                   />

                                </p:selectOneMenu>

                                <p:outputLabel value="#{bundle.CreateTrabajadorLabel_idAsignacionFamiliar}" for="idAsignacionFamiliar" />
                                <p:selectOneMenu id="idAsignacionFamiliar" value="#{trabajadorController.selected.asignacionFamiliar}" required="true" requiredMessage="#{bundle.CreateTrabajadorRequiredMessage_idAsignacionFamiliar}" converter="asignacionFamiliarConverter">
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{asignacionFamiliarController.items}"
                                                   var="idAsignacionFamiliarItem"
                                                   itemValue="#{idAsignacionFamiliarItem}"
                                                   itemLabel="#{idAsignacionFamiliarItem.codigoAsignacionFamiliar}"
                                                   />

                                </p:selectOneMenu>

                                <p:outputLabel value="#{bundle.CreateTrabajadorLabel_idComuna}" for="idComuna" />
                                <p:selectOneMenu id="idComuna" value="#{trabajadorController.selected.comuna}" required="true" requiredMessage="#{bundle.CreateTrabajadorRequiredMessage_idComuna}" converter="comunaConverter">
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{comunaController.items}"
                                                   var="idComunaItem"
                                                   itemValue="#{idComunaItem}"
                                                   itemLabel="#{idComunaItem.nombreComuna}"
                                                   />

                                </p:selectOneMenu>

                                <p:outputLabel value="#{bundle.CreateTrabajadorLabel_idTipoCotizacionTrabajador}" for="idTipoCotizacionTrabajador" />
                                <p:selectOneMenu id="idTipoCotizacionTrabajador" value="#{trabajadorController.selected.tipoCotizacionTrabajador}" required="true" requiredMessage="#{bundle.CreateTrabajadorRequiredMessage_idTipoCotizacionTrabajador}" converter="tipoCotizacionTrabajadorConverter">
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{tipoCotizacionTrabajadorController.items}"
                                                   var="idTipoCotizacionTrabajadorItem"
                                                   itemValue="#{idTipoCotizacionTrabajadorItem}"
                                                   itemLabel="#{idTipoCotizacionTrabajadorItem.nombreTipoCotizacionTrabajador}"
                                                   />

                                </p:selectOneMenu>

                                <p:outputLabel value="#{bundle.CreateTrabajadorLabel_idMonedaPactadaSalud}" for="idMonedaPactadaSalud" />
                                <p:selectOneMenu id="idMonedaPactadaSalud" value="#{trabajadorController.selected.monedaPactadaInstitucionSalud}" required="true" requiredMessage="#{bundle.CreateTrabajadorRequiredMessage_idMonedaPactadaSalud}" converter="monedaPactadaInstitucionSaludConverter">
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{monedaPactadaInstitucionSaludController.items}"
                                                   var="idMonedaPactadaSaludItem"
                                                   itemValue="#{idMonedaPactadaSaludItem}"
                                                   itemLabel="#{idMonedaPactadaSaludItem.nombreMonedaSalud}"
                                                   />

                                </p:selectOneMenu>

                                <p:outputLabel value="#{bundle.CreateTrabajadorLabel_idInstitucionPrevision}" for="idInstitucionPrevision" />
                                <p:selectOneMenu id="idInstitucionPrevision" value="#{trabajadorController.selected.institucionPrevision}" required="true" requiredMessage="#{bundle.CreateTrabajadorRequiredMessage_idInstitucionPrevision}" converter="institucionPrevisionConverter">
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{institucionPrevisionController.items}"
                                                   var="idInstitucionPrevisionItem"
                                                   itemValue="#{idInstitucionPrevisionItem}"
                                                   itemLabel="#{idInstitucionPrevisionItem.nombreInstitucionPrevision}"
                                                   />

                                </p:selectOneMenu>

                                <p:outputLabel value="#{bundle.CreateTrabajadorLabel_idInstitucionSalud}" for="idInstitucionSalud" />
                                <p:selectOneMenu id="idInstitucionSalud" value="#{trabajadorController.selected.institucionSalud}" required="true" requiredMessage="#{bundle.CreateTrabajadorRequiredMessage_idInstitucionSalud}" converter="institucionSaludConverter">
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{institucionSaludController.items}"
                                                   var="idInstitucionSaludItem"
                                                   itemValue="#{idInstitucionSaludItem}"
                                                   itemLabel="#{idInstitucionSaludItem.nombreInstitucionSalud}"
                                                   />

                                </p:selectOneMenu>

                                <p:outputLabel value="#{bundle.CreateTrabajadorLabel_idSindicato}" for="idSindicato" />
                                <p:selectOneMenu id="idSindicato" value="#{trabajadorController.selected.sindicato}" required="true" requiredMessage="#{bundle.CreateTrabajadorRequiredMessage_idSindicato}" converter="sindicatoConverter">
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{sindicatoController.items}"
                                                   var="idSindicatoItem"
                                                   itemValue="#{idSindicatoItem}"
                                                   itemLabel="#{idSindicatoItem.nombreSindicato}"
                                                   />

                                </p:selectOneMenu>

                                <p:outputLabel value="#{bundle.CreateTrabajadorLabel_idTerminal}" for="idTerminal" />
                                <p:selectOneMenu id="idTerminal" value="#{trabajadorController.selected.terminal}" required="true" requiredMessage="#{bundle.CreateTrabajadorRequiredMessage_idTerminal}" converter="terminalConverter">
                                    <f:selectItem itemLabel="#{bundle.SelectOneMessage}"/>
                                    <f:selectItems value="#{terminalController.items}"
                                                   var="idTerminalItem"
                                                   itemValue="#{idTerminalItem}"
                                                   itemLabel="#{idTerminalItem.nombreTerminal}"
                                                   />

                                </p:selectOneMenu>
                            </p:panelGrid>
                        </p:tab>
                    </p:tabView>
                    <p:commandButton actionListener="#{trabajadorController.save}" value="#{bundle.Save}" update="display,:TrabajadorListForm:datalist,:TrabajadorListForm:TrabajadorDataTableContextMenu,:growl" oncomplete="handleSubmit(xhr,status,args,PF('TrabajadorEditDialog'));">
                        <p:confirm header="#{bundle.ConfirmationHeader}" message="#{bundle.ConfirmEditMessage}" icon="ui-icon-alert"/>
                    </p:commandButton>
                    <p:commandButton value="#{bundle.Cancel}" oncomplete="PF('TrabajadorEditDialog').hide()" update="display" process="@this" immediate="true" resetValues="true"/>
                </h:panelGroup>

            </h:form>

        </p:dialog>

    </ui:composition>

</html>
